<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>4SMM - Личный кабинет пользователя. Настройка профиля</title>
	<meta name="description" content="Личный кабинет пользователя. Настройка профиля"/>
	<meta name="robots" content="index, nofollow"/>
	<link rel="shortcut icon" href="./favicon.ico" type="image/png">
	<link rel="stylesheet" href="./css/style.css">
</head>
<body>
	<div class="wrapper user">
		<header class="header">
			<div class="container header__container">
				<div class="header__item logo">
					<a href="./"><img src="./img/logo.svg" alt="Логотип"></a>
				</div>
				<nav class="header__item top-menu_mobile">
					<div class="top-menu-wrapper">
						<ul class="top-menu">
							<li class="top-menu__item"><a href="./index.html#service-section">Услуги</a></li>
							<li class="top-menu__item"><a href="./discounts.html">Скидки</a></li>
							<li class="top-menu__item"><a href="./help.html">Помощь</a></li>
							<li class="top-menu__item"><a href="./index.html#contacts-section">Контакты</a></li>
						</ul>
						<div class="top-menu__footer mobile">
							<a href="./login.html" class="login-link">Вход</a>
							<a href="tel:79687971277">+7 968 797 12 77</a>
							<a href="mailto:4smm@support.ru">4smm@support.ru</a>
						</div>
					</div>
					<div class="top-menu-close">
						<div class="top-menu-close__item"></div>
						<div class="top-menu-close__item"></div>
					</div>
				</nav>
				<div class="top-menu-overl"></div>
				<div class="header__item login-wrapper">
					<a href="#">0 ₽</a>
					<a href="./" class="logout-link">Выход</a>
					<div class="user-menu__toggler"></div>
				</div>
				<div class="header__item top-menu-toggler-wrap">
					<div class="top-menu-toggler">
						<div class="top-menu-toggler__item"></div>
						<div class="top-menu-toggler__item"></div>
						<div class="top-menu-toggler__item"></div>
					</div>
				</div>
			</div>
		</header>
        <div class="container dashboard">
            <aside class="dashboard-card sidebar user-menu-block">
                <div class="user-menu-block__inner">
					<div class="user-card">
						<div class="user-avatar">
							<a href="#"><img src="./img/avatar-bg.svg" alt="Аватар пользователя"></a>
						</div>
						<div class="user-name">Антон Уманский</div>
					</div>
					<nav>
						<ul class="user-menu">
							<li class="user-menu__item"><a href="./user-profile.html">Профиль</a></li>
							<li class="user-menu__item"><a href="./user-new-order.html">Новый заказ</a></li>
							<li class="user-menu__item"><a href="./user-deposit.html">Пополнить баланс</a></li>
							<li class="user-menu__item"><a href="./user-my-orders.html">Мои заказы</a></li>
							<li class="user-menu__item"><a href="./user-order-history.html">История операций</a></li>
							<li class="user-menu__item"><a href="./user-discounts.html">Скидочная система</a></li>
							<li class="user-menu__item"><a href="./user-support.html">Поддержка</a></li>
							<li class="user-menu__item user-menu__item_current"><a href="#">Настройка профиля</a></li>
						</ul>
					</nav>
					<div class="sidebar__footer"><a href="./">Выход</a></div>
					<div class="user-menu-close">
						<div class="user-menu-close__item"></div>
						<div class="user-menu-close__item"></div>
					</div>
				</div>
            </aside>
			<div class="user-menu-overl"></div>
            <main class="main profile-settings">
                <div class="main-inner profile-settings-inner">
                    <nav class="breadcrumb">
                        <ul>
                            <li class="breadcrumb__item"><a href="#">Личный кабинет</a></li>
                            <li class="breadcrumb__item breadcrumb__item_current">Настройка профиля</li>
                        </ul>
                    </nav>
					<div class="profile-settings-form-wrapper">
						<form action="#" class="profile-settings-form" method="POST" id="profile-settings-form" name="profileSettingsForm">
							<div class="profile-settings-block">
								<div class="profile-settings-block__item avatar-settings">
									<div class="fieldset avatar-settings__fieldset">
										<div class="avatar-frame" id="avatar-frame">
											<img src="./img/avatar-wallpaper.jpg" id="avatar-img" alt="">
										</div>
										<div class="avatar-buttons">
											<div class="avatar-buttons__item form-group avatar-update">
												<input type="file" class="avatar-update__control" id="avatar-update" name="avatarUpdate">
												<label for="avatar-update" class="avatar-update__label"></label>
											</div>
											<div class="avatar-buttons__item avatar-delete" id="avatarDelete">
												<div class="avatar-delete__item"></div>
												<div class="avatar-delete__item"></div>
											</div>
										</div>
									</div>
								</div>
								<div class="profile-settings-block__item data-settings">
									<div class="fieldset data-settings__fieldset">
										<div class="form__group">
											<label for="userFirstName" class="form__label">Имя</label>
											<input type="text" class="form__control" id="userFirstName" name="userFirstName">
										</div>
										<div class="form__group">
											<label for="userLastName" class="form__label">Фамилия</label>
											<input type="text" class="form__control" id="userLastName" name="userLastName">
										</div>
									</div>
									<div class="fieldset data-settings__fieldset data-settings__fieldset_contacts">
										<div class="form__group">
											<label for="userPhone" class="form__label">Телефон</label>
											<input type="text" class="form__control" id="userPhone" name="userPhone">
										</div>
										<div class="form__group">
											<label for="userMail" class="form__label">E-mail</label>
											<input type="email" class="form__control" id="userMail" name="userMail">
										</div>
									</div>
									<div class="fieldset data-settings__fieldset data-settings__fieldset_current-pass">
										<div class="form__group">
											<label for="userPassCurrent" class="form__label">Текущий пароль</label>
											<input type="password" class="form__control" id="userPassCurrent" name="userPassCurrent">
										</div>
										<div class="form__group">
											<div class="form__label current-pass-hint">Пароль должен содержать не менее 8 знаков, включать буквы, цифры и специальные символы</div>
										</div>
									</div>
									<div class="fieldset data-settings__fieldset">
										<div class="form__group">
											<label for="userPassNew" class="form__label">Новый пароль</label>
											<input type="password" class="form__control" id="userPassNew" name="userPassNew">
										</div>
										<div class="form__group">
											<label for="userPassNewConfirm" class="form__label new-pass-confirm">Повторить новый пароль</label>
											<input type="password" class="form__control" id="userPassNewConfirm" name="userPassNewConfirm">
										</div>
									</div>
									<div class="form__submit-wrap">
										<input type="submit" class="btn btn_prim btn_sm" value="Сохранить">
									</div>
								</div>
							</div>
						</form>
					</div>
                </div>
            </main>
        </div>
		<footer class="footer">
			<div class="container footer__container">
				<div class="footer__item logo">
					<a href="./"><img src="./img/logo.svg" alt="Логотип"></a>
				</div>
				<nav class="footer__item footer-menu">
					<div class="footer-menu__part footer-menu__part_left">
						<div class="footer-menu__block">
							<div class="block-inner">
								<div class="footer-menu__caption">ПОЛЬЗОВАТЕЛЮ</div>
								<ul>
									<li class="footer-menu__item"><a href="./reviews.html">Отзывы</a></li>
									<li class="footer-menu__item"><a href="./help.html">Вопрос - ответ</a></li>
									<li class="footer-menu__item"><a href="#">Способы оплаты</a></li>
									<li class="footer-menu__item"><a href="#">Блог</a></li>
								</ul>
							</div>
						</div>
						<div class="footer-menu__block">
							<div class="block-inner">
								<div class="footer-menu__caption">О НАС</div>
								<ul>
									<li class="footer-menu__item"><a href="./service-rules.html">Правила сервиса</a></li>
									<li class="footer-menu__item"><a href="./public-offer.html">Публичная оферта</a></li>
								</ul>
							</div>
						</div>
					</div>
					<div class="footer-menu__part footer-menu__part_right">
						<div class="footer-menu__block">
							<div class="block-inner">
								<div class="footer-menu__caption">ПОМОЩЬ</div>
								<ul>
									<li class="footer-menu__item"><a href="#">База знаний</a></li>
									<li class="footer-menu__item"><a href="#">Служба поддержки</a></li>
								</ul>
							</div>
						</div>
						<div class="footer-menu__block footer-menu__block_last">
							<div class="block-inner">
								<div class="footer-menu__caption">БОНУСЫ</div>
								<ul>
									<li class="footer-menu__item"><a href="./discounts.html">Акции и скидки</a></li>
								</ul>
							</div>
						</div>
					</div>
				</nav>
			</div>
			<div class="footer__border"></div>
			<div class="container footer__bottom">
				<div class="copyright">
					<span>2021. Все права защищены</span>
					<a href="./policy.html">Политика конфиденциальности</a>
				</div>
				<div class="site-author">Создание сайта <a href="mailto:@anya_ammm">@anya_ammm</a></div>
			</div>
		</footer>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

	<!-- USER-PHONE INPUT-MASK -->
	<script src="./js/inputmask.js"></script>
	<script>
		"use strict"
		var selector = document.getElementById("userPhone");
		var im = new Inputmask("999-999-99-99");
		im.mask(selector);
	</script>

	<script src="js/main.js"></script>

	<!-- PROFILE-MENU-SETTINGS -->
	<script>
		"use strict";

		var userMenuToggle = document.querySelector('.user-menu__toggler'),
			userMenuCloseBtn = document.querySelector('.user-menu-close'),
			userMenu = document.querySelector('.user-menu-block'),
			userMenuOverl = document.querySelector('.user-menu-overl');
		userMenuToggle.addEventListener('click', function () {
		userMenu.classList.toggle('open');
		document.body.classList.toggle('scroll-hidden');
		userMenuOverl.classList.toggle('open');
		});
		userMenuOverl.addEventListener('click', userMenuClose);
		userMenuCloseBtn.addEventListener('click', userMenuClose);

		function userMenuClose() {
		userMenu.classList.remove('open');
		document.body.classList.remove('scroll-hidden');
		userMenuOverl.classList.remove('open');
		}
	</script>
	<!-- AVATAR-CHANGE-SETTINGS -->
	<script>
		var profileSettingsForm = document.forms.profileSettingsForm;
		var avatarUpdate = profileSettingsForm.avatarUpdate;
		var avatarFrame = document.getElementById('avatar-frame');
		var avatarFrameWidth = parseInt(getComputedStyle(avatarFrame).width);
		var avatarDeleteBtn = document.getElementById('avatarDelete');
		var img = document.getElementById('avatar-img');
		var imgSrcDefault = img.src;

		window.onload = function () {
		var photo_input = document.getElementById('avatar-update');

		photo_input.onchange = function () {
			var reader = new FileReader();

			reader.onload = function (e) {
			// обнуление стилей, чтобы при последующей загрузке при противоположном соотношении сторон загружаемого изображение это изображение НЕ ИСКАЖАЛОСЬ
			img.style = '';

			avatarDeleteBtn.onclick = function () {
				img.style = '';
				img.src = imgSrcDefault;
			};

			img.onload = function () {
				var avatarImg = document.getElementById('avatar-img');
				var avatarImgSrcWidth = this.width;
				var avatarImgSrcHeight = this.height;

				if (avatarImgSrcWidth >= avatarImgSrcHeight) {
				avatarImg.style.height = avatarFrameWidth + 'px';
				avatarImg.style.width = avatarFrameWidth * avatarImgSrcWidth / avatarImgSrcHeight + 'px';
				} else {
				avatarImg.style.width = avatarFrameWidth + 'px';
				avatarImg.style.height = avatarFrameWidth * avatarImgSrcHeight / avatarImgSrcWidth + 'px';
				}
			};

			img.src = e.target.result;
			};

			reader.readAsDataURL(this.files[0]);
		};
		};
	</script>
</body>
</html>