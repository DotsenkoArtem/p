"use strict";window.addEventListener("load",function(){for(var d=document.querySelectorAll(".lazy"),e=0;e<d.length;e++)!function(e){var t=d[e],r=t.querySelector("[data-src]"),e=document.createElement("img");e.setAttribute("src",r.getAttribute("data-src")),e.onload=function(){r.setAttribute("src",r.getAttribute("data-src")),t.classList.remove("lazy")}}(e);var t=document.querySelector(".top-menu-toggler"),p=document.querySelector(".header-nav"),r=document.querySelector(".top-menu-overl");t.addEventListener("click",function(){p.classList.toggle("open"),t.classList.toggle("open"),header.classList.toggle("white"),r.classList.toggle("open")}),r.addEventListener("click",function(){p.classList.remove("open"),t.classList.toggle("open"),header.classList.remove("white"),r.classList.remove("open")});var n=document.querySelectorAll(".modal-trigger"),u={callback:"Перезвоните мне","test-street-2":"Взять на тест-драйв Street-2","test-street-2-pro":"Взять на тест-драйв Street-2-pro","test-street-utra-pro":"Взять на тест-драйв Street-ultra-pro",partn:"Хочу стать партнером"};if(n)for(var m=function(e){var s=n[e];s.addEventListener("click",function(){var e=s,t=document.getElementById(e.dataset.target),r=t.getElementsByClassName("modal-close");t.classList.remove("closed"),t.classList.add("opened");for(var n=0;n<r.length;n++)r[n].addEventListener("click",function(){var e;(e=t).classList.remove("opened"),e.classList.add("closed")});s.dataset.form&&(formTheme.value=u[s.dataset.form])})},s=0;s<n.length;s++)m(s);for(var i=document.forms,a=0;a<i.length;a++)for(var v=function(){this.parentElement.classList.add("focused")},f=function(){this.parentElement.classList.remove("focused")},o=i[a],l=(o.querySelector('[type="submit"]'),0);l<o.elements.length;l++)o.elements[l].classList.contains("form__control")&&!function(){var e=o.elements[l];e.addEventListener("focus",v),e.addEventListener("input",function(){e.value?(e.parentElement.classList.remove("focused"),e.parentElement.classList.add("valid")):e.parentElement.classList.remove("valid")}),e.addEventListener("blur",f)}();document.querySelector(".modal-callback");var c=document.createElement("div");function w(e){e.querySelector(".submit-loader").remove()}c.className="thanks";for(var L=function(e){var r=i[e];$(r).submit(function(e){var t;return e.preventDefault(),e=r,t=document.createElement("div"),e=e.querySelector(".loader-container"),t.className="submit-loader",e.appendChild(t),$.ajax({type:"POST",url:"/mail.php",data:$(this).serialize()}).done(function(){$(this).find("input").val(""),$(r).trigger("reset"),w(r),c.innerHTML="<h3><span>Спасибо</span>Мы перезвоним Вам в ближайшее время!</h3>",c.classList.add("active"),wrapper.appendChild(c),modal.classList.remove("opened"),setTimeout(function(){c.remove(),c.classList.remove("active")},6500)}).fail(function(){$(this).find("input").val(""),$(r).trigger("reset"),w(r),c.innerHTML="<h3><span>Ошибка</span>отправки данных.</h3>",c.classList.add("active"),wrapper.appendChild(c),modal.classList.remove("opened"),setTimeout(function(){c.remove(),c.classList.remove("active")},6500)}),!1})},g=0;g<i.length;g++)L(g);$(function(){$('a[href^="#"]').on("click",function(e){e.preventDefault();e=$(this).attr("href"),e=$(e).offset().top;$("html, body").animate({scrollTop:e},1e3,"swing")})})});var starsSlider=new Swiper(".stars__slider",{direction:"horizontal",loop:!0,slidesPerView:1,speed:500,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{992:{slidesPerView:"auto",centeredSlides:!0}}}),reviewsSlider=new Swiper(".reviews__slider",{direction:"horizontal",loop:!0,speed:500,slidesPerView:"auto",centeredSlides:!0,spaceBetween:40,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),mySwiper=void 0;function initSwiper(){var e=$(window).width();e<576&&null==mySwiper?mySwiper=new Swiper(".important__slider",{direction:"horizontal",loop:!0,slidesPerView:1,speed:500,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{480:{slidesPerView:"auto",centeredSlides:!0,spaceBetween:40}}}):576<=e&&null!=mySwiper&&(mySwiper.destroy(),mySwiper=void 0,jQuery(".important__item-wrapper").removeAttr("style"),jQuery(".important-slide").removeAttr("style"))}initSwiper(),$(window).on("resize",function(){initSwiper()});